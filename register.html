<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Register - Students Rentals</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header class="site-header">
        <div class="container">
            <div class="brand">Students Rentals</div>
            <button id="navToggle" class="nav-toggle" aria-label="Toggle menu" aria-expanded="false">☰</button>
            <nav id="mainNav" class="nav"><a href="index.html">Home</a><a href="properties.html">Properties</a><a
                    href="secondhand.html">Second Hand Items</a><a href="about.html">About Us</a><a
                    href="contacts.html">Contacts</a></nav>
        </div>
    </header>
    <main class="container" style="padding:20px;display:flex;align-items:center;justify-content:center;min-height:60vh">
        <form id="regForm" style="background:#fff;padding:18px;border-radius:10px;min-width:320px">
            <h2>Create account</h2>
            <label>Username<input name="username" required
                    style="width:100%;padding:8px;margin-top:6px;border-radius:6px;border:1px solid #e6eef6"></label>
            <label style="display:block;margin-top:8px">Role<select name="role" required
                    style="width:100%;padding:8px;margin-top:6px;border-radius:6px;border:1px solid #e6eef6">
                    <option value="student">Student</option>
                    <option value="landlord">Landlord</option>
                </select></label>
            <label style="display:block;margin-top:8px">Password<input name="password" type="password" required
                    style="width:100%;padding:8px;margin-top:6px;border-radius:6px;border:1px solid #e6eef6"></label>
            <div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end"><button type="submit"
                    class="btn">Register</button></div>
            <p style="margin-top:8px">Already have an account? <a href="login.html">Login</a></p>
        </form>
    </main>
    <footer class="site-footer">
        <div class="container">© <span id="year"></span> Students Rentals</div>
    </footer>
    <script>
        document.getElementById('year').textContent = new Date().getFullYear();
        function loadAccounts() { try { return JSON.parse(localStorage.getItem('sr_accounts')) || [] } catch (e) { return [] } }
        function saveAccounts(a) { localStorage.setItem('sr_accounts', JSON.stringify(a)) }
        const form = document.getElementById('regForm');
        form && form.addEventListener('submit', e => {
            e.preventDefault(); const fd = new FormData(form); const u = fd.get('username').trim(); const r = fd.get('role'); const p = fd.get('password');
            if (!u || !p) { alert('Username and password required'); return }
            const accs = loadAccounts();
            if (accs.some(x => x.username === u)) { alert('Username already exists'); return }
            accs.push({ username: u, role: r, password: p }); saveAccounts(accs);
            alert('Account created. Please login.');
            window.location.href = 'login.html';
        });
    </script>
</body>

</html>